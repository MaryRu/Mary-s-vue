<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>数组练习</title>
</head>

<body>
  <script>
    var arr = [1, 2, 3, 4];
    // console.log(arr.length);
    // 1.遍历数组
    // 方法一
    for (var i = 0; i < arr.length; i++) {
      // console.log(arr[i])
    }
    // 方法二 forEach(function(item,index,array){})
    arr.forEach(function(item) {
        // console.log(item)
      })
      // 2.添加元素到数组的末尾push()
    var newLength = arr.push(5)
      // console.log(arr)
      // 3.删除数组末尾元素pop()
    var newArr = arr.pop();
    // 4.删除最前面的元素(第一个元素)shift()
    var newArr = arr.shift();
    // 5.添加到数组的最前面 unshift()
    var newArr = arr.unshift(1);
    // console.log(arr)
    // 6.找到某个元素在数组中的索引 indexOf
    arr.push('mary');
    var index = arr.indexOf('mary');
    // console.log(arr)
    // console.log(index)

    function indexOf(arr, item) {
      // for (i = 0; i < arr.length; i++) {
      //   if (arr[i] == item) {
      //     return i;
      //   }
      // }
      var index = arr.indexOf(item)
      return index;
    }
    // console.log(indexOf(['m', 'a', 'r', 'y'], 'm'))

    // 7.数组求和
    function sum(arr) {
      if (arr.length == 0) {
        return 0;
      } else if (arr.length == 1) {
        return arr[0];
      } else {
        for (var i = 0; i < arr.length; i++) {
          return arr[0] + sum(arr.splice(1));
        }
      }
    }
    // console.log(sum([1, 2, 3, 4]))
    // 8.移出数组中所有值与item相等的元素
    function remove(arr, item) {
      var newArr = arr.slice(); //复制数组
      for (var i = 0; i < newArr.length; i++) {
        if (newArr[i] == item) {
          newArr.splice(i, 1);
          i--;
        }
      }
      return newArr;
    }
    // console.log(remove([1, 2, 3, 4, 2], 2))

    function append(arr, item) {
      var newArr = [];
      for (var i = 0; i < arr.length; i++) {
        newArr.push(arr[i])
      }
      newArr.push(item);
      return newArr;
    }
    // console.log(append([1, 2, 3, 4], 10))
    // 修改原数组，删除数组的最后一个元素
    function truncate(arr) {
      var newArr = [];
      for (var i = 0; i < arr.length - 1; i++) {
        newArr.push(arr[i])
      }
      return newArr;
    }
    // console.log(truncate([1, 2, 3, 4]))
    // 不直接修改数组，在数组开头添加元素
    function prepend(arr, item) {
      var newArr = [];
      for (var i = 0; i < arr.length; i++) {
        newArr.push(arr[i])
      }
      newArr.unshift(item);
      return newArr;
    }

    // 不直接修改数组，删除数组第一个元素
    function curtail(arr) {
      var newArr = [];
      for (var i = 1; i < arr.length; i++) {
        newArr.push(arr[i])
      }
      return newArr;
    }

    // function curtail(arr) {
    //   var newArr = [];
    //   for (var i = 0; i < arr.length; i++) {
    //     newArr.push(arr[i])
    //   }
    //   newArr.shift();
    //   return newArr;
    // }
    // console.log(curtail([1, 2, 3, 4]))
    // 数组合并(不直接修改数组)
    // 方法一：循环迭代
    function concat(arr1, arr2) {
      var newArr = [];
      for (var i = 0; i < arr1.length; i++) {
        newArr.push(arr1[i]);
      }
      for (var j = 0; j < arr2.length; j++) {
        newArr.push(arr2[j]);
      }
      return newArr;
    }

    // 方法二：slice()+push()
    function concat(arr1, arr2) {
      var newArr = arr1.slice();
      for (var j = 0; j < arr2.length; j++) {
        newArr.push(arr2[j]);
      }
      return newArr;
    }
    // console.log(concat([1, 2, 3, 4], ['a', 'b', 'c', 'd']))
    // 不修改数组，在数组的index处添加元素item
    function insert(arr, item, index) {
      var newArr = arr.slice();
      newArr.splice(index, 0, item);
      return newArr;
    }
    // console.log(insert([1, 2, 3, 4], 'z', 2))
    // 统计数组 arr 中值等于 item 的元素出现的次数
    function count(arr, item) {
      var newArr = [];
      for (var i = 0; i < arr.length; i++) {
        if (arr[i] == item) {
          newArr.push(i);
        }
      }
      return newArr.length;
    }
    // console.log(count([1, 2, 4, 4, 3, 4, 3], 4))
    // 找出数组 arr 中重复出现过的元素
    function duplicates(arr) {
      var newArr = [];
      arr.sort();
      for (var i = 0; i < arr.length; i++) {
        if (arr[i] == arr[i + 1]) {
          newArr.push(arr[i]);
          while (arr[i] == arr[i + 1]) {
            i++;
          }
        }
      }
      return newArr;
    }
    // console.log(duplicates([1, 2, 4, 4, 3, 3, 1, 5, 3]))
    // 为数组 arr 中的每个元素求二次方。不要直接修改数组 arr，结果返回新的数组
    function square(arr) {
      var newArr = [];
      for (var i = 0; i < arr.length; i++) {
        arr[i] *= arr[i];
        newArr.push(arr[i]);
      }
      return newArr;
    }
    // console.log(square([1, 2, 3, 4]))
    // 在数组 arr 中，查找值与 item 相等的元素出现的所有位置
    function findAllOccurrences(arr, target) {
      var newArr = [];
      for (var i = 0; i < arr.length; i++) {
        if (arr[i] == target) {
          newArr.push(i);
        }
      }
      return newArr;
    }
    console.log(findAllOccurrences([1, 2, 3, 4, 5, 1, 2, 4, 1], 1))
  </script>

</body>

</html>